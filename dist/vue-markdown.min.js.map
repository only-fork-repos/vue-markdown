{"version":3,"sources":["vue-markdown.js"],"names":["defaultData","mode","previewHtml","buttons","title","type","icon","defaultCallbacks","header","vm","replaceSelection","selection","getSelection","setSelection","end","bold","italic","link","url","prompt","start","quote-left","code","list-ol","list-ul","image","VueMarkdown","marked","options","markdown","this","data","width","height","text","placeholder","buttonCallbacks","addButton","button","callback","push","install","Vue","component","props","template","methods","$$","textarea","selectionStart","selectionEnd","content","val","value","substring","length","focus","action","ready","$watch","exports","module","define","amd","window"],"mappings":"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","file":"vue-markdown.min.js","sourcesContent":["/**\n * Vue Markdown 1.2.0\n * 2015/8/23 Peak Tai\n * https://github.com/PeakTai/vue-markdown.git\n */\n(function () {\n    \"user strict\"\n    function defaultData() {\n        return {\n            mode: \"edit\",\n            previewHtml: \"\",\n            buttons: [\n                {title: \"标题\", type: \"header\", icon: \"fa fa-header\"},\n                {title: \"加粗\", type: \"bold\", icon: \"fa fa-bold\"},\n                {title: \"斜体\", type: \"italic\", icon: \"fa fa-italic\"},\n                {title: \"超连接\", type: \"link\", icon: \"fa fa-link\"},\n                {title: \"引用\", type: \"quote-left\", icon: \"fa fa-quote-left\"},\n                {title: \"代码\", type: \"code\", icon: \"fa fa-code\"},\n                {title: \"有序列表\", type: \"list-ol\", icon: \"fa fa-list-ol\"},\n                {title: \"无序列表\", type: \"list-ul\", icon: \"fa fa-list-ul\"},\n                {title: \"网络图片\", type: \"image\", icon: \"fa fa-image\"}\n            ]\n        }\n    }\n\n    function defaultCallbacks() {\n        return {\n            header: function (vm) {\n                vm.replaceSelection(\"### \")\n                var selection = vm.getSelection()\n                vm.setSelection(selection.end, selection.end)\n            },\n            bold: function (vm) {\n                vm.replaceSelection(\" ****\")\n                var selection = vm.getSelection()\n                vm.setSelection(selection.end - 2, selection.end - 2)\n            },\n            italic: function (vm) {\n                vm.replaceSelection(\" **\")\n                var selection = vm.getSelection()\n                vm.setSelection(selection.end - 1, selection.end - 1)\n            },\n            link: function (vm) {\n                var url = prompt(\"请输入链接地地址\")\n                if (!url) {\n                    return\n                }\n                vm.replaceSelection(\"[链接描述](\" + url + \")\")\n                var selection = vm.getSelection()\n                vm.setSelection(selection.start + 1, selection.start + 5)\n            },\n            \"quote-left\": function (vm) {\n                vm.replaceSelection(\" >\")\n                var selection = vm.getSelection()\n                vm.setSelection(selection.end, selection.end)\n            },\n            \"code\": function (vm) {\n                vm.replaceSelection(\"``\")\n                var selection = vm.getSelection()\n                vm.setSelection(selection.end - 1, selection.end - 1)\n            },\n            \"list-ol\": function (vm) {\n                vm.replaceSelection(\"1. \")\n                var selection = vm.getSelection()\n                vm.setSelection(selection.end, selection.end)\n            },\n            \"list-ul\": function (vm) {\n                vm.replaceSelection(\"* \")\n                var selection = vm.getSelection()\n                vm.setSelection(selection.end, selection.end)\n            },\n            \"image\": function (vm) {\n                var url = prompt(\"请输入图片的地址\")\n                if (!url) {\n                    return\n                }\n                vm.replaceSelection(\"![图片说明](\" + url + \")\")\n                var selection = vm.getSelection()\n                vm.setSelection(selection.start + 2, selection.start + 6)\n\n            }\n        }\n    }\n\n\n    var VueMarkdown = function (marked, options) {\n        var markdown = this\n        options = options || {}\n        markdown.data = defaultData()\n        markdown.data.width = options.width || \"100%\"\n        markdown.data.height = options.height || \"300px\"\n        markdown.data.text = options.text || \"# Vue Markdown Editor\"\n        markdown.data.placeholder = options.placeholder || \"\"\n\n        markdown.buttonCallbacks = defaultCallbacks();\n\n        /**\n         * add a button\n         * @param button {title,String,type:String,icon:String,callback:Function}\n         */\n        markdown.addButton = function (button) {\n            if (!button.type) {\n                throw \"button must has a 'type' property\"\n            }\n            if (markdown.buttonCallbacks[button.type]) {\n                throw \"the type of button is already in use\"\n            }\n            markdown.buttonCallbacks[button.type] = button.callback\n            delete button.callback\n            markdown.data.buttons.push(button)\n        }\n\n        //Vue.use(instance)\n        markdown.install = function (Vue) {\n            Vue.component(\"md-editor\", {\n                props: [\"width\", \"height\", \"placeholder\", \"text\"],\n                template: \"<style>\\n    .md-editor {\\n        padding: 0 10px 10px 10px;\\n        border: 1px solid #ddd;\\n        border-radius: 4px;\\n        -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, .05);\\n        box-shadow: 0 1px 1px rgba(0, 0, 0, .05);\\n    }\\n\\n    .md-editor textarea {\\n        border: none;\\n        resize: vertical;\\n        outline: none;\\n        padding: 0;\\n    }\\n\\n    .md-editor textarea {\\n        width: 100%;\\n    }\\n\\n    .md-editor .md-preview {\\n        overflow: auto;\\n    }\\n\\n    .md-editor .md-preview img {\\n        max-width: 100%;\\n    }\\n\\n    .md-editor .md-toolbar {\\n        border-bottom: 1px solid #ddd;\\n        overflow-x: auto;\\n        margin: 0 -10px 10px -10px;\\n\\n    }\\n\\n    .md-toolbar .button {\\n        line-height: 32px;\\n        width: 32px;\\n        text-align: center;\\n        cursor: pointer;\\n    }\\n\\n    .md-help {\\n        overflow-x: auto;\\n    }\\n\\n    .md-help table {\\n        border-spacing: 0;\\n        border-collapse: collapse;\\n        min-width: 100%;\\n    }\\n\\n    .md-help table th, .md-help table td {\\n        border: 1px solid #ddd;\\n        padding: 8px;\\n    }\\n\\n    .md-help table th {\\n        min-width: 80px;\\n    }\\n</style>\\n<div class=\\\"md-editor\\\" v-style=\\\"width:width\\\">\\n    <div class=\\\"md-toolbar\\\">\\n        <span class=\\\"button {{icon}}\\\" v-repeat=\\\"buttons\\\" title=\\\"{{title}}\\\" v-on=\\\"click:action(type)\\\"></span>\\n        <span class=\\\"button fa\\\" v-class=\\\"'fa-eye':mode=='preview','fa-eye-slash':mode!='preview'\\\"\\n              v-on=\\\"click:mode = mode == 'preview'?'edit':'preview'\\\"></span>\\n        <span class=\\\"button fa fa-question-circle\\\" v-on=\\\"click:mode = mode == 'help'?'edit':'help'\\\"></span>\\n    </div>\\n    <textarea v-model=\\\"text\\\" v-el=\\\"textarea\\\" v-show=\\\"mode=='edit'\\\" v-style=\\\"height:height\\\"\\n              v-attr=\\\"placeholder:placeholder\\\"></textarea>\\n\\n    <div class=\\\"md-preview\\\" v-show=\\\"mode=='preview'\\\">{{{previewHtml}}}</div>\\n    <div class=\\\"md-help\\\" v-show=\\\"mode=='help'\\\">\\n        <h1>markdown语法说明</h1>\\n        <table>\\n            <tbody>\\n            <tr>\\n                <th><i class=\\\"fa fa-image\\\"></i>&nbsp;图片</th>\\n                <td colspan=\\\"2\\\">![描述](图片地址)</td>\\n            </tr>\\n            <tr>\\n                <th><i class=\\\"fa fa-link\\\"></i>&nbsp;链接</th>\\n                <td colspan=\\\"2\\\">[描述](链接地址)</td>\\n            </tr>\\n            <tr>\\n                <th><i class=\\\"fa fa-bold\\\" style=\\\"margin-right: 0\\\"></i>/<i class=\\\"fa fa-italic\\\"></i>强调</th>\\n                <td colspan=\\\"2\\\">*斜体* 和 **粗体**</td>\\n            </tr>\\n            <tr>\\n                <th><i class=\\\"fa fa-header\\\"></i>&nbsp;标题</th>\\n                <td colspan=\\\"2\\\"># 一级标题 <br> ## 二级标题 <br>...<br> ##### 五级标题</td>\\n            </tr>\\n            <tr>\\n                <th><i class=\\\"fa fa-quote-left\\\"></i>&nbsp;引用</th>\\n                <td colspan=\\\"2\\\">&gt; 一级引用 <br> &gt;&gt; 二级引用</td>\\n            </tr>\\n            <tr>\\n                <th><i class=\\\"fa fa-list-ol\\\"></i>&nbsp;列表</th>\\n                <td>\\n                    1. 有序列表1 <br>\\n                    2. 有序列表2 <br>\\n                    3. 有序列表3\\n                </td>\\n                <td>\\n                    - 无序列表1 <br>\\n                    - 无序列表2 <br>\\n                    - 无序列表3\\n                </td>\\n            </tr>\\n            <tr>\\n                <th><i class=\\\"fa fa-code\\\"></i>&nbsp;代码</th>\\n                <td colspan=\\\"2\\\">`var a = 1;`</td>\\n            </tr>\\n            <tr>\\n                <th><i class=\\\"fa fa-table\\\"></i>&nbsp;表格</th>\\n                <td colspan=\\\"2\\\">\\n                    <pre>First Header | Second Header | Third Header\\n:----------- | :-----------: | -----------:\\n Left        |     Center    |       Right</pre>\\n                </td>\\n            </tr>\\n            </tbody>\\n        </table>\\n    </div>\\n    <div class=\\\"md-upload\\\" v-show=\\\"mode=='upload'\\\">\\n        <input type=\\\"file\\\" v-el=\\\"file\\\">\\n    </div>\\n</div>\\n<content></content>\",\n                data: function () {\n                    return markdown.data\n                },\n                methods: {\n                    getSelection: function () {\n                        return {\n                            start: this.$$.textarea.selectionStart,\n                            end: this.$$.textarea.selectionEnd\n                        }\n                    },\n                    setSelection: function (start, end) {\n                        this.$$.textarea.selectionStart = start\n                        this.$$.textarea.selectionEnd = end\n                    },\n                    replaceSelection: function (content) {\n                        var selection = this.getSelection()\n                        val = this.$$.textarea.value\n                        var val = this.text.substring(0, selection.start) + content + this.text.substring(selection.end)\n                        this.$$.textarea.value = this.text = val\n                        this.setSelection(selection.start, selection.start + content.length)\n                        this.$$.textarea.focus()\n                    },\n                    //trigger by click button\n                    action: function (type) {\n                        if (this.mode != \"edit\") {\n                            return\n                        }\n                        var callback = markdown.buttonCallbacks[type]\n                        callback && callback(this)\n                    }\n                },\n                ready: function () {\n                    var vm = this;\n                    vm.previewHtml = marked(vm.text)\n                    this.$watch(\"text\", function (val) {\n                        vm.previewHtml = marked(val)\n                    })\n                }\n            })\n        }\n    }\n    if (typeof exports == \"object\") {\n        module.exports = VueMarkdown;\n    } else if (typeof define == \"function\" && define.amd) {\n        define([], function () {\n            return VueMarkdown\n        })\n    } else if (window) {\n        window.VueMarkdown = VueMarkdown\n    }\n})()"],"sourceRoot":"/source/"}